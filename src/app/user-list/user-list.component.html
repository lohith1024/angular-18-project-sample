<div class="container">
  <h1>User List</h1>

  <div class="filter-sort">
    <input type="text" placeholder="Filter by name or email" [(ngModel)]="filterText" (input)="filterUsers()">
  </div>

  <table class="user-table">
    <thead>
      <tr>
        <th (click)="sortUsers('id')">ID</th>
        <th (click)="sortUsers('firstName')">First Name</th>
        <th (click)="sortUsers('lastName')">Last Name</th>
        <th (click)="sortUsers('email')">Email</th>
        <th (click)="sortUsers('phone')">Phone</th>
        <th (click)="sortUsers('address.city')">City</th>
        <th (click)="sortUsers('company.name')">Company</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of filteredUsers">
        <td>{{ user.id }}</td>
        <td>{{ user.firstName }}</td>
        <td>{{ user.lastName }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.phone }}</td>
        <td>{{ user.address.city }}</td>
        <td>{{ user.company.name }}</td>
      </tr>
    </tbody>
  </table>

  <div class="pagination">
    <button (click)="onPageChange(currentPage - 1)" [disabled]="currentPage === 1">Previous</button>
    <span *ngFor="let pageNumber of pageNumbers" class="page-number"
          [class.active]="currentPage === pageNumber"
          (click)="onPageChange(pageNumber)">
      {{ pageNumber }}
    </span>
    <button (click)="onPageChange(currentPage + 1)" [disabled]="currentPage === pageNumbers.length">Next</button>
  </div>
</div>
